import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState, useEffect } from 'react';
import WizardNav from '../../components/WizardNav';
import { useProject } from '../../state/project';
export default function AdditionalOptions() {
    const { state, actions } = useProject();
    // PV System Optionen
    const [pv_interest, setPvInterest] = useState(state.options?.pv_interest || false);
    const [system_size_preference, setSystemSizePreference] = useState(state.options?.system_size_preference || '');
    const [module_type_preference, setModuleTypePreference] = useState(state.options?.module_type_preference || '');
    const [inverter_type_preference, setInverterTypePreference] = useState(state.options?.inverter_type_preference || '');
    const [mounting_preference, setMountingPreference] = useState(state.options?.mounting_preference || '');
    // Speicher Optionen
    const [battery_interest, setBatteryInterest] = useState(state.options?.battery_interest || false);
    const [battery_size_preference, setBatterySizePreference] = useState(state.options?.battery_size_preference || '');
    const [battery_type_preference, setBatteryTypePreference] = useState(state.options?.battery_type_preference || '');
    const [backup_power_desired, setBackupPowerDesired] = useState(state.options?.backup_power_desired || false);
    // Wärmepumpe Optionen
    const [hp_interest, setHpInterest] = useState(state.options?.hp_interest || false);
    const [hp_type_preference, setHpTypePreference] = useState(state.options?.hp_type_preference || '');
    const [hp_size_preference, setHpSizePreference] = useState(state.options?.hp_size_preference || '');
    const [hp_integration_timing, setHpIntegrationTiming] = useState(state.options?.hp_integration_timing || '');
    // E-Mobilität
    const [ev_charging_interest, setEvChargingInterest] = useState(state.options?.ev_charging_interest || false);
    const [wallbox_type_preference, setWallboxTypePreference] = useState(state.options?.wallbox_type_preference || '');
    const [ev_integration_timing, setEvIntegrationTiming] = useState(state.options?.ev_integration_timing || '');
    // Smart Home & Monitoring
    const [smart_home_integration, setSmartHomeIntegration] = useState(state.options?.smart_home_integration || false);
    const [monitoring_level_preference, setMonitoringLevelPreference] = useState(state.options?.monitoring_level_preference || '');
    const [app_control_desired, setAppControlDesired] = useState(state.options?.app_control_desired || false);
    // Zusätzliche Services
    const [maintenance_contract_interest, setMaintenanceContractInterest] = useState(state.options?.maintenance_contract_interest || false);
    const [insurance_interest, setInsuranceInterest] = useState(state.options?.insurance_interest || false);
    const [financing_interest, setFinancingInterest] = useState(state.options?.financing_interest || false);
    const [leasing_interest, setLeasingInterest] = useState(state.options?.leasing_interest || false);
    // Installation Präferenzen
    const [installation_speed_preference, setInstallationSpeedPreference] = useState(state.options?.installation_speed_preference || '');
    const [installation_team_size, setInstallationTeamSize] = useState(state.options?.installation_team_size || '');
    // Zukünftige Erweiterungen
    const [future_expansion_planned, setFutureExpansionPlanned] = useState(state.options?.future_expansion_planned || false);
    const [pool_heating_interest, setPoolHeatingInterest] = useState(state.options?.pool_heating_interest || false);
    const [climate_control_interest, setClimateControlInterest] = useState(state.options?.climate_control_interest || false);
    // Sonstiges
    const [special_requests, setSpecialRequests] = useState(state.options?.special_requests || '');
    const [consultation_preference, setConsultationPreference] = useState(state.options?.consultation_preference || '');
    // No minimum requirements - user can proceed without selections
    const requiredOk = true;
    // Beim Verlassen/Weiter speichern wir in den Context
    useEffect(() => {
        actions.updateOptions({
            pv_interest,
            system_size_preference,
            module_type_preference,
            inverter_type_preference,
            mounting_preference,
            battery_interest,
            battery_size_preference,
            battery_type_preference,
            backup_power_desired,
            hp_interest,
            hp_type_preference,
            hp_size_preference,
            hp_integration_timing,
            ev_charging_interest,
            wallbox_type_preference,
            ev_integration_timing,
            smart_home_integration,
            monitoring_level_preference,
            app_control_desired,
            maintenance_contract_interest,
            insurance_interest,
            financing_interest,
            leasing_interest,
            installation_speed_preference,
            installation_team_size,
            future_expansion_planned,
            pool_heating_interest,
            climate_control_interest,
            special_requests,
            consultation_preference
        });
    }, [
        pv_interest, system_size_preference, module_type_preference, inverter_type_preference, mounting_preference,
        battery_interest, battery_size_preference, battery_type_preference, backup_power_desired,
        hp_interest, hp_type_preference, hp_size_preference, hp_integration_timing,
        ev_charging_interest, wallbox_type_preference, ev_integration_timing,
        smart_home_integration, monitoring_level_preference, app_control_desired,
        maintenance_contract_interest, insurance_interest, financing_interest, leasing_interest,
        installation_speed_preference, installation_team_size,
        future_expansion_planned, pool_heating_interest, climate_control_interest,
        special_requests, consultation_preference,
        actions
    ]);
    return (_jsxs("div", { className: "max-w-4xl mx-auto p-6 space-y-6", children: [_jsxs("div", { className: "mb-6", children: [_jsx("h1", { className: "text-2xl font-bold text-slate-800", children: "Zus\u00E4tzliche Optionen" }), _jsx("p", { className: "text-slate-600", children: "Komponenten, Services und Erweiterungen ausw\u00E4hlen" })] }), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Grundlegende Interessen" }), _jsxs("div", { className: "grid md:grid-cols-3 gap-4", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: pv_interest, onChange: (e) => setPvInterest(e.target.checked) }), _jsx("span", { children: "Photovoltaik-Anlage" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: hp_interest, onChange: (e) => setHpInterest(e.target.checked) }), _jsx("span", { children: "W\u00E4rmepumpe" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: ev_charging_interest, onChange: (e) => setEvChargingInterest(e.target.checked) }), _jsx("span", { children: "E-Auto Ladestation" })] })] })] }), pv_interest && (_jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Photovoltaik-System" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsx(Field, { label: "Systemgr\u00F6\u00DFe-Pr\u00E4ferenz", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: system_size_preference, onChange: (e) => setSystemSizePreference(e.target.value), children: [_jsx("option", { value: "", children: "Keine Pr\u00E4ferenz" }), _jsx("option", { value: "small", children: "Klein (bis 5 kWp)" }), _jsx("option", { value: "medium", children: "Mittel (5-10 kWp)" }), _jsx("option", { value: "large", children: "Gro\u00DF (10-20 kWp)" }), _jsx("option", { value: "very_large", children: "Sehr gro\u00DF (> 20 kWp)" }), _jsx("option", { value: "maximum", children: "Maximale Dachnutzung" })] }) }), _jsx(Field, { label: "Modul-Typ Pr\u00E4ferenz", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: module_type_preference, onChange: (e) => setModuleTypePreference(e.target.value), children: [_jsx("option", { value: "", children: "Keine Pr\u00E4ferenz" }), _jsx("option", { value: "mono", children: "Monokristallin" }), _jsx("option", { value: "poly", children: "Polykristallin" }), _jsx("option", { value: "bifacial", children: "Bifazial" }), _jsx("option", { value: "high_efficiency", children: "Hocheffizienz" }), _jsx("option", { value: "black", children: "Vollschwarze Module" })] }) }), _jsx(Field, { label: "Wechselrichter-Typ", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: inverter_type_preference, onChange: (e) => setInverterTypePreference(e.target.value), children: [_jsx("option", { value: "", children: "Keine Pr\u00E4ferenz" }), _jsx("option", { value: "string", children: "String-Wechselrichter" }), _jsx("option", { value: "power_optimizer", children: "Power Optimizer" }), _jsx("option", { value: "micro", children: "Mikro-Wechselrichter" }), _jsx("option", { value: "hybrid", children: "Hybrid-Wechselrichter" })] }) }), _jsx(Field, { label: "Montage-Pr\u00E4ferenz", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: mounting_preference, onChange: (e) => setMountingPreference(e.target.value), children: [_jsx("option", { value: "", children: "Standard-Montage" }), _jsx("option", { value: "parallel", children: "Parallel zum Dach" }), _jsx("option", { value: "elevated", children: "Aufgest\u00E4ndert" }), _jsx("option", { value: "integrated", children: "Dachintegriert" }), _jsx("option", { value: "ground", children: "Freifl\u00E4che" })] }) })] })] })), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Energiespeicher" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsxs("div", { className: "space-y-3", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: battery_interest, onChange: (e) => setBatteryInterest(e.target.checked) }), _jsx("span", { children: "Batterie-Speicher gew\u00FCnscht" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: backup_power_desired, onChange: (e) => setBackupPowerDesired(e.target.checked) }), _jsx("span", { children: "Notstrom-Funktionalit\u00E4t gew\u00FCnscht" })] })] }), _jsx("div", { className: "space-y-3", children: battery_interest && (_jsxs(_Fragment, { children: [_jsx(Field, { label: "Speicher-Gr\u00F6\u00DFe", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: battery_size_preference, onChange: (e) => setBatterySizePreference(e.target.value), children: [_jsx("option", { value: "", children: "Automatische Dimensionierung" }), _jsx("option", { value: "small", children: "Klein (bis 5 kWh)" }), _jsx("option", { value: "medium", children: "Mittel (5-10 kWh)" }), _jsx("option", { value: "large", children: "Gro\u00DF (10-20 kWh)" }), _jsx("option", { value: "very_large", children: "Sehr gro\u00DF (> 20 kWh)" })] }) }), _jsx(Field, { label: "Batterie-Technologie", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: battery_type_preference, onChange: (e) => setBatteryTypePreference(e.target.value), children: [_jsx("option", { value: "", children: "Keine Pr\u00E4ferenz" }), _jsx("option", { value: "lithium_ion", children: "Lithium-Ionen" }), _jsx("option", { value: "lifepo4", children: "LiFePO4" }), _jsx("option", { value: "salt_water", children: "Salzwasser" }), _jsx("option", { value: "lead_acid", children: "Blei-S\u00E4ure" })] }) })] })) })] })] }), hp_interest && (_jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "W\u00E4rmepumpen-System" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsx(Field, { label: "W\u00E4rmepumpen-Typ", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: hp_type_preference, onChange: (e) => setHpTypePreference(e.target.value), children: [_jsx("option", { value: "", children: "Automatische Auswahl" }), _jsx("option", { value: "air_water", children: "Luft-Wasser" }), _jsx("option", { value: "ground_water", children: "Sole-Wasser (Erdw\u00E4rme)" }), _jsx("option", { value: "water_water", children: "Wasser-Wasser" }), _jsx("option", { value: "air_air", children: "Luft-Luft" }), _jsx("option", { value: "hybrid", children: "Hybrid-System" })] }) }), _jsx(Field, { label: "Leistungsklasse", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: hp_size_preference, onChange: (e) => setHpSizePreference(e.target.value), children: [_jsx("option", { value: "", children: "Automatische Dimensionierung" }), _jsx("option", { value: "small", children: "Klein (bis 6 kW)" }), _jsx("option", { value: "medium", children: "Mittel (6-12 kW)" }), _jsx("option", { value: "large", children: "Gro\u00DF (12-20 kW)" }), _jsx("option", { value: "very_large", children: "Sehr gro\u00DF (> 20 kW)" })] }) }), _jsx(Field, { label: "Integration Zeitplan", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: hp_integration_timing, onChange: (e) => setHpIntegrationTiming(e.target.value), children: [_jsx("option", { value: "", children: "Gleichzeitig mit PV" }), _jsx("option", { value: "immediate", children: "Sofort" }), _jsx("option", { value: "next_season", children: "N\u00E4chste Heizsaison" }), _jsx("option", { value: "future", children: "Zuk\u00FCnftig geplant" }), _jsx("option", { value: "evaluation", children: "Noch in Evaluierung" })] }) })] })] })), ev_charging_interest && (_jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "E-Mobilit\u00E4t & Ladeinfrastruktur" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsx(Field, { label: "Wallbox-Typ", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: wallbox_type_preference, onChange: (e) => setWallboxTypePreference(e.target.value), children: [_jsx("option", { value: "", children: "Standard Wallbox" }), _jsx("option", { value: "basic", children: "Basis (11 kW)" }), _jsx("option", { value: "fast", children: "Schnell (22 kW)" }), _jsx("option", { value: "smart", children: "Smart Wallbox" }), _jsx("option", { value: "bidirectional", children: "Bidirektional (V2G)" }), _jsx("option", { value: "multiple", children: "Mehrere Ladepunkte" })] }) }), _jsx(Field, { label: "Integration Zeitplan", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: ev_integration_timing, onChange: (e) => setEvIntegrationTiming(e.target.value), children: [_jsx("option", { value: "", children: "Gleichzeitig mit PV" }), _jsx("option", { value: "immediate", children: "Sofort" }), _jsx("option", { value: "car_purchase", children: "Bei E-Auto Kauf" }), _jsx("option", { value: "next_year", children: "N\u00E4chstes Jahr" }), _jsx("option", { value: "future", children: "Zuk\u00FCnftig geplant" })] }) })] })] })), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Smart Home & Monitoring" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsxs("div", { className: "space-y-3", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: smart_home_integration, onChange: (e) => setSmartHomeIntegration(e.target.checked) }), _jsx("span", { children: "Smart Home Integration" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: app_control_desired, onChange: (e) => setAppControlDesired(e.target.checked) }), _jsx("span", { children: "App-Steuerung gew\u00FCnscht" })] })] }), _jsx(Field, { label: "Monitoring-Level", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: monitoring_level_preference, onChange: (e) => setMonitoringLevelPreference(e.target.value), title: "Monitoring-Level ausw\u00E4hlen", children: [_jsx("option", { value: "", children: "Basis-Monitoring" }), _jsx("option", { value: "basic", children: "Grundfunktionen" }), _jsx("option", { value: "advanced", children: "Erweitert" }), _jsx("option", { value: "professional", children: "Professionell" }), _jsx("option", { value: "comprehensive", children: "Umfassend" })] }) })] })] }), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Zus\u00E4tzliche Services" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsxs("div", { className: "space-y-3", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: maintenance_contract_interest, onChange: (e) => setMaintenanceContractInterest(e.target.checked) }), _jsx("span", { children: "Wartungsvertrag gew\u00FCnscht" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: insurance_interest, onChange: (e) => setInsuranceInterest(e.target.checked) }), _jsx("span", { children: "Versicherung gew\u00FCnscht" })] })] }), _jsxs("div", { className: "space-y-3", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: financing_interest, onChange: (e) => setFinancingInterest(e.target.checked) }), _jsx("span", { children: "Finanzierung ben\u00F6tigt" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: leasing_interest, onChange: (e) => setLeasingInterest(e.target.checked) }), _jsx("span", { children: "Leasing interessant" })] })] })] })] }), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Installation & Durchf\u00FChrung" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsx(Field, { label: "Installationsgeschwindigkeit", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: installation_speed_preference, onChange: (e) => setInstallationSpeedPreference(e.target.value), children: [_jsx("option", { value: "", children: "Normal" }), _jsx("option", { value: "asap", children: "So schnell wie m\u00F6glich" }), _jsx("option", { value: "planned", children: "Geplant/Terminiert" }), _jsx("option", { value: "flexible", children: "Flexibel" }), _jsx("option", { value: "off_season", children: "Nebensaison bevorzugt" })] }) }), _jsx(Field, { label: "Team-Gr\u00F6\u00DFe Pr\u00E4ferenz", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: installation_team_size, onChange: (e) => setInstallationTeamSize(e.target.value), children: [_jsx("option", { value: "", children: "Standard Team" }), _jsx("option", { value: "small", children: "Kleines Team" }), _jsx("option", { value: "large", children: "Gro\u00DFes Team" }), _jsx("option", { value: "single_day", children: "Ein-Tages-Installation" }), _jsx("option", { value: "minimal_disruption", children: "Minimale St\u00F6rung" })] }) })] })] }), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Zuk\u00FCnftige Erweiterungen" }), _jsxs("div", { className: "grid md:grid-cols-3 gap-4", children: [_jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: future_expansion_planned, onChange: (e) => setFutureExpansionPlanned(e.target.checked) }), _jsx("span", { children: "System-Erweiterung geplant" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: pool_heating_interest, onChange: (e) => setPoolHeatingInterest(e.target.checked) }), _jsx("span", { children: "Pool-Heizung Interesse" })] }), _jsxs("label", { className: "flex items-center gap-2", children: [_jsx("input", { type: "checkbox", checked: climate_control_interest, onChange: (e) => setClimateControlInterest(e.target.checked) }), _jsx("span", { children: "Klimatechnik Interesse" })] })] })] }), _jsxs("div", { className: "bg-white rounded-lg border p-6", children: [_jsx("h3", { className: "text-lg font-medium mb-4", children: "Beratung & Sonstiges" }), _jsxs("div", { className: "grid md:grid-cols-1 gap-4", children: [_jsx(Field, { label: "Beratungs-Pr\u00E4ferenz", children: _jsxs("select", { className: "w-full rounded border border-slate-300 px-3 py-2", value: consultation_preference, onChange: (e) => setConsultationPreference(e.target.value), children: [_jsx("option", { value: "", children: "Standard Beratung" }), _jsx("option", { value: "detailed", children: "Ausf\u00FChrliche Beratung" }), _jsx("option", { value: "technical", children: "Technische Detailberatung" }), _jsx("option", { value: "financial", children: "Finanzberatung Fokus" }), _jsx("option", { value: "environmental", children: "Umwelt-Fokus" }), _jsx("option", { value: "quick", children: "Kompakte Beratung" })] }) }), _jsx(Field, { label: "Besondere W\u00FCnsche oder Anforderungen", children: _jsx("textarea", { className: "w-full rounded border border-slate-300 px-3 py-2 h-24", value: special_requests, onChange: (e) => setSpecialRequests(e.target.value), placeholder: "z.B. spezielle Komponenten, besondere Installationsw\u00FCnsche, zeitliche Vorgaben..." }) })] })] }), _jsx(WizardNav, { backTo: "/project/demand", nextTo: "/calc/results", disabledNext: !requiredOk })] }));
}
function Field({ label, children }) {
    return (_jsxs("label", { className: "block", children: [_jsx("span", { className: "block text-sm font-medium text-slate-700 mb-1", children: label }), children] }));
}
